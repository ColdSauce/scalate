<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd"> 
<html lang="en">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="scala template engine implementing HAML, JSP, Erb style templates" name="description"/>
    <meta content="scalate,scala,template engine,haml,erb,jsp" name="keywords"/>
    <meta content="Scalate" name="author"/>
    <link type="text/css" rel="stylesheet" href="../styles/impact/css/pygmentize.css"/>
    <link type="text/css" rel="stylesheet" href="../styles/impact/css/site.css"/>
    <title></title>
  </head>
  <body>
    <div id="navigation">
      <div class="wrapper">
<ul>
<li><a href="../index.html">Scalate 1.2</a></li>
<li><a href="../download.html">Download</a></li>
<li><a href="../source.html">Source</a></li>
<li><a href="../community.html">Community</a></li>
<li><a href="../support.html">Support</a></li>
<li><a href="index.html">Documentation</a></li>
</ul>        <div></div>
      </div>
    </div>
    <div id="overview">
      <div class="wrapper">
        <div class="logo">
          <img src="../images/project-logo.png" alt="Scalate logo"/>
        </div>
        <div class="message">
<h1 id = "Site_Generator">Site Generator</h1>

<p>Create that static website with Scalate</p>
          <div></div>
        </div>
      </div>
    </div>
    <div id="content">
      <div class="wrapper">
<div class="left">
  <h1 id = "Overview">Overview</h1>
</div>
<div class="right">
  <p>Scalate can be used to create a static website reusing all of the various Scalate template languages, filters, wiki markups and pipelines. </p>

  <p>First you need to install the <a href="tool.html">Scalate tool</a></p>
</div>
<div class="left">
  <h1 id = "Creating_a_Site">Creating a Site</h1>
</div>
<div class="right">
  <p>The quickest way to get started right now is to create a copy of the <strong>scalate-sample-sitegen</strong> project.</p>

  <p>Inside the project run the following</p>

  <pre><code>mvn jetty:run</code></pre>

  <p>Then open <a href="http://localhost:8080/">http://localhost:8080/</a> and you should see the styled website.</p>

  <p>The source for the site in wiki markup or templates are all in the usual webapp area (<strong>src/main/webapp</strong>).</p>

  <p>However you can also use the <a href="console.html">Console</a> to edit the templates directly. </p>

  <p>Just open the console via the top right icon. You will then see links to the page you are looking at along with the layout template used to render the current page. Clicking on the link will open the wiki page or template in your editor. Refer to the <a href="console.html">Console</a> for details of changing your default editor.    </p>

  <p>When you change a file and hit save you can hit reload in your browser to see the newly rendered page. Whether you change a wiki page, an include or a template you will always see the most up to date page in your browser.</p>
</div>
<div class="left">
  <h1 id = "Generating_the_static_site">Generating the static site</h1>
</div>
<div class="right">
  <p>To generate the static site run</p>

  <pre><code>mvn install</code></pre>

  <p>This will invoke the <strong>scalate:sitegen</strong> plugin which generates the static website to the <strong>target/sitegen</strong> directory.</p>
</div>
<div class="left">
  <h1 id="deploy">Deploying the static site</h1>
</div>
<div class="right">
  <p>
    Before you start trying to deploy you need to add a <b>distributionManagement</b> section to your pom.xml. For example projects hosted on the <a href="http://fusesource.com/forge/">FuseForge</a> tend to use something like this
  </p>

  <div class="syntax"><div class="highlight"><pre><span class="nt">&lt;distributionManagement&gt;</span>&#x000A;  <span class="nt">&lt;site&gt;</span>&#x000A;    <span class="nt">&lt;id&gt;</span>website.fusesource.org<span class="nt">&lt;/id&gt;</span>&#x000A;    <span class="nt">&lt;name&gt;</span>website<span class="nt">&lt;/name&gt;</span>&#x000A;    <span class="nt">&lt;url&gt;</span>dav:http://fusesource.com/forge/dav/myproject<span class="nt">&lt;/url&gt;</span>&#x000A;  <span class="nt">&lt;/site&gt;</span>&#x000A;<span class="nt">&lt;/distributionManagement&gt;</span>&#x000A;</pre></div>&#x000A;</div>

  <p>
    Any of the Maven Wagon transport mechanisms should be supported (file, scp, dav etc).
  </p>

  <p>
    Then to actually deploy the static site to some remote system you can use the following:
  </p>

  <div class="syntax"><div class="highlight"><pre>mvn scalate:deploy&#x000A;</pre></div>&#x000A;</div>

  <p>
    This will deploy the site generated by the <b>scalate:sitegen</b> goal to the website location you have provided in the <b>site</b> area of the <b>distributionManagement</b> section of your pom.xml
  </p>

  <p>If you also want to deploy a regular maven website too then you can reuse the same site configuration as above but just specify a <b>remoteDirectory</b> property on the plugin (which defaults to ".." to avoid including the maven project name in the deploy url)</p>

  <p></div></p>

  <div class="left" markdown="1">
  # Link Checking
  </div>

  <div class="right">

  <p>
    Its easy to make a mistake in your wiki files and create a bad link. So we have a linkcheck report you can add to your pom.xml if you want to generate a report of any bad links that are created as part of your statically generated HTML. 
  </p>

  <p>
    Just add the following to your <b>pom.xml</b> and you'll get a nice LinkCheck report.
  </p>

  <div class="syntax"><div class="highlight"><pre><span class="nt">&lt;reporting&gt;</span>&#x000A;  <span class="nt">&lt;plugins&gt;</span>&#x000A;    <span class="nt">&lt;plugin&gt;</span>&#x000A;      <span class="nt">&lt;groupId&gt;</span>org.fusesource.scalate<span class="nt">&lt;/groupId&gt;</span>&#x000A;      <span class="nt">&lt;artifactId&gt;</span>maven-scalate-plugin<span class="nt">&lt;/artifactId&gt;</span>&#x000A;      <span class="nt">&lt;version&gt;</span>1.3<span class="nt">&lt;/version&gt;</span>&#x000A;    <span class="nt">&lt;/plugin&gt;</span>&#x000A;  <span class="nt">&lt;/plugins&gt;</span>&#x000A;<span class="nt">&lt;/reporting&gt;</span>&#x000A;</pre></div>&#x000A;</div>
</div>
<div class="left">
  <h1 id="livereload">Using LiveReload</h1>
</div>
<div class="right">
  <p><a href="http://github.com/mockko/livereload">LiveReload</a> is a tool and a browser plugin for Safari and Chrome. </p>

  <pre><code>runlivereload</code></pre>

  <p>LiveReload watches the files on your machine so that as you change a template, CSS or JavaScript file it will force a reload in the web browser. This means you can sit in your editor changing files and have a browser window open and you don't have to keep changing focus between the editor and browser and hitting reload in the browser. You can just hit save in your editor and see the results in your browser.</p>

  <p>Or you can use the livereload script directly&hellip;</p>

  <pre><code>livereload src/main/webapp</code></pre>

  <p>This works thanks to the <strong>src/main/webapp/.livereload</strong> configuration file knowing about the scalate template files.</p>
</div>
<div class="left">
  <h1 id="export">Exporting Confluence Wikis</h1>
</div>
<div class="right">
  <p>If you have a legacy site you want to port over from Confluence you can run the following command.</p>

  <p>For example if your Confluence space is called FOO at Apache then the following command will dump its content as wiki text files&hellip;</p>

  <pre><code>scalate confexport --user user --password pass \
    https://cwiki.apache.org/confluence/rpc/xmlrpc FOO ./out</code></pre>
</div>
<div class="left">
  <h1 id="bootstrapping">Bootstrapping</h1>
</div>
<div class="right">
  <p>When generating static sites you often need a little bit of bootstrap code to configure things such that you can configure some filters (for example the <strong>{snippet}</strong> macros inside Confluence wiki files) which are then setup and used whether you run Scalate using &ldquo;mvn jetty:run&rdquo; for the live website or use &ldquo;mvn scalate:sitegen&rdquo; to generate the static site.</p>

  <p>Thankfully there's a really simple way to add in any custom initialisation code in Scalate. Just add a class called <strong>scalate.Boot</strong> which should be a class with a method called <strong>run()</strong> which can then do whatever you need to configure things before the template engine starts to render your templates and wiki files.</p>
</div>

        <div></div>
      </div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script> 
        <script type="text/javascript"> 
        try {
        var pageTracker = _gat._getTracker("UA-1347593-12");
        pageTracker._trackPageview();
        } catch(err) {}
      //]]>
    </script>
  </body>
</html>
